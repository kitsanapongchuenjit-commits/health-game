<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏¥‡∏ã‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      background: linear-gradient(135deg, #1565C0, #42A5F5);
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .card {
      background: white;
      margin: 20px auto;
      padding: 20px;
      max-width: 420px;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    button {
      width: 100%;
      background: #1565C0;
      color: white;
      border: none;
      padding: 12px;
      margin: 8px 0;
      border-radius: 10px;
      font-size: 16px;
    }
    button:hover {
      background: #0D47A1;
    }
    input, select {
      padding: 10px;
      width: 90%;
      font-size: 16px;
      margin-bottom: 10px;
    }
    .hidden { display: none; }
  </style>
</head>
<body>

<!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
<audio id="soundCorrect" src="https://cdn.pixabay.com/audio/2022/03/15/audio_58bb1e27a0.mp3"></audio>
<audio id="soundWrong" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4c708b3f29.mp3"></audio>

<div class="card" id="startScreen">
  <h2>ü©∫ ‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏¥‡∏ã‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô</h2>
  <input type="text" id="playerName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô">
  <select id="level">
    <option value="easy">‡∏á‡πà‡∏≤‡∏¢</option>
    <option value="medium">‡∏Å‡∏•‡∏≤‡∏á</option>
    <option value="hard">‡∏¢‡∏≤‡∏Å</option>
  </select>
  <button onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
</div>

<div class="card hidden" id="gameScreen">
  <h3 id="timer">‡πÄ‡∏ß‡∏•‡∏≤: 10</h3>
  <h3 id="question"></h3>
  <div id="choices"></div>
  <h3 id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</h3>
</div>

<div class="card hidden" id="resultScreen">
  <h2>üéâ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß</h2>
  <p id="finalScore"></p>
  <button onclick="showRanking()">‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
  <button onclick="location.reload()">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
</div>

<div class="card hidden" id="rankScreen">
  <h2>üèÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
  <ol id="rankList"></ol>
  <button onclick="location.reload()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
</div>

<script>
// ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö
const quizData = {
  easy: [
    {q:"‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", c:["‡πÇ‡∏£‡∏Ñ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô","‡πÇ‡∏£‡∏Ñ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏™‡∏π‡∏á","‡πÇ‡∏£‡∏Ñ‡∏´‡∏±‡∏ß‡πÉ‡∏à","‡πÇ‡∏£‡∏Ñ‡πÑ‡∏ï"], a:1},
    {q:"‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏£‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡πâ‡∏≠‡∏¢?", c:["‡∏ú‡∏±‡∏Å","‡∏õ‡∏•‡∏≤","‡∏´‡∏ß‡∏≤‡∏ô","‡∏ô‡πâ‡∏≥"], a:2},
    {q:"‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏¥‡∏ß‡∏ô‡πâ‡∏≥‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì?", c:["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô","‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô","‡∏´‡∏±‡∏ß‡πÉ‡∏à","‡∏´‡∏≠‡∏ö"], a:1},
    {q:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£?", c:["‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡πâ‡∏ß‡∏ô","‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡∏°‡∏±‡∏ô"], a:1},
    {q:"‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏∞‡πÑ‡∏£?", c:["‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡πÑ‡∏Ç‡∏°‡∏±‡∏ô","‡∏õ‡∏≠‡∏î","‡∏™‡∏≤‡∏¢‡∏ï‡∏≤"], a:0},
    {q:"‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£?", c:["‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡πâ‡∏ß‡∏ô","‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡∏°‡∏±‡∏ô"], a:1},
    {q:"‡∏Ñ‡∏ß‡∏£‡∏Å‡∏¥‡∏ô‡∏ú‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏û‡∏£‡∏≤‡∏∞?", c:["‡∏≠‡∏£‡πà‡∏≠‡∏¢","‡∏¢‡πà‡∏≠‡∏¢‡∏á‡πà‡∏≤‡∏¢","‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"], a:2},
    {q:"‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£?", c:["‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏≠‡πâ‡∏ß‡∏ô","‡∏á‡πà‡∏ß‡∏á"], a:0},
    {q:"‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏£‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏´‡∏°?", c:["‡∏î‡∏∑‡πà‡∏°‡∏°‡∏≤‡∏Å","‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥","‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á","‡πÅ‡∏ó‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß"], a:2},
    {q:"‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ä‡πà‡∏ß‡∏¢?", c:["‡∏•‡∏î‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô","‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô","‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß","‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡πâ‡∏ß‡∏ô"], a:0},
  ],
  medium: [
    {q:"‡∏Ñ‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Å‡∏¥‡∏ô?", c:["90","100","126","150"], a:2},
    {q:"‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡∏ó‡∏µ‡πà 2 ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å?", c:["‡∏†‡∏π‡∏°‡∏¥‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô","‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°","‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡∏Å‡∏£‡∏£‡∏°","‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠"], a:3},
    {q:"‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• (GI) ‡∏Ñ‡∏∑‡∏≠?", c:["‡∏Ñ‡πà‡∏≤‡∏´‡∏ß‡∏≤‡∏ô","‡∏Ñ‡πà‡∏≤‡πÑ‡∏Ç‡∏°‡∏±‡∏ô","‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô","‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡πÄ‡∏•‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡∏≠‡∏•"], a:0},
    {q:"‡πÅ‡∏ú‡∏•‡∏´‡∏≤‡∏¢‡∏ä‡πâ‡∏≤‡πÄ‡∏û‡∏£‡∏≤‡∏∞?", c:["‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á","‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏π‡∏á","‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á","‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏ï‡πà‡∏≥"], a:1},
    {q:"‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö?", c:["‡∏´‡∏ô‡∏±‡∏Å","‡πÄ‡∏ö‡∏≤","‡πÅ‡∏≠‡πÇ‡∏£‡∏ö‡∏¥‡∏Å","‡∏¢‡∏∑‡∏î"], a:2},
    {q:"‡πÉ‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢?", c:["‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏ä‡∏∞‡∏•‡∏≠‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏î‡∏ã‡∏∂‡∏°","‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡πâ‡∏ß‡∏ô","‡∏•‡∏î‡∏ô‡πâ‡∏≥"], a:1},
    {q:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•?", c:["‡∏•‡∏î","‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô","‡πÄ‡∏û‡∏¥‡πà‡∏°","‡πÄ‡∏õ‡πá‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå"], a:2},
    {q:"‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏£‡∏Å‡∏¥‡∏ô‡πÑ‡∏´‡∏°?", c:["‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥","‡∏°‡∏≤‡∏Å‡πÜ","‡πÅ‡∏ï‡πà‡∏ô‡πâ‡∏≠‡∏¢","‡πÅ‡∏ó‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß"], a:2},
    {q:"‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏¢‡πá‡∏ô‡∏Ñ‡∏ß‡∏£‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤?", c:["‡∏î‡∏∂‡∏Å","‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏≠‡∏ô","‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 19.00","‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏∑‡∏ô"], a:2},
    {q:"‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à HbA1c ‡∏Å‡∏µ‡πà‡πÄ‡∏î‡∏∑‡∏≠‡∏ô?", c:["1","3","6","12"], a:1},
  ],
  hard: [
    {q:"HbA1c ‡∏Ñ‡∏∑‡∏≠?", c:["‡πÑ‡∏Ç‡∏°‡∏±‡∏ô","‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏∞‡∏™‡∏°","‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô","‡πÄ‡∏Å‡∏•‡∏∑‡∏≠"], a:1},
    {q:"‡∏Ñ‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ HbA1c ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô?", c:["5.7%","7%","8%","10%"], a:0},
    {q:"Neuropathy ‡∏Ñ‡∏∑‡∏≠‡∏†‡∏≤‡∏ß‡∏∞?", c:["‡∏ï‡∏≤‡∏ö‡∏≠‡∏î","‡∏ä‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏°‡∏∑‡∏≠‡∏õ‡∏•‡∏≤‡∏¢‡πÄ‡∏ó‡πâ‡∏≤","‡∏≠‡πâ‡∏ß‡∏ô","‡πÑ‡∏ï‡∏ß‡∏≤‡∏¢"], a:1},
    {q:"Retinopathy ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö?", c:["‡πÑ‡∏ï","‡∏´‡∏±‡∏ß‡πÉ‡∏à","‡∏ï‡∏≤","‡∏õ‡∏≠‡∏î"], a:2},
    {q:"‡πÇ‡∏£‡∏Ñ‡πÑ‡∏ï‡∏à‡∏≤‡∏Å‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤?", c:["Nephropathy","Hypertension","Stroke","Hypo"], a:0},
    {q:"‡∏†‡∏≤‡∏ß‡∏∞‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ï‡πà‡∏≥‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤?", c:["Hyper","Hypo","Hemo","Hepa"], a:1},
    {q:"‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡∏≠‡∏≠‡∏Å‡∏§‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å?", c:["Rapid","Long","Mix","Dark"], a:0},
    {q:"‡πÄ‡∏™‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å?", c:["‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ï‡πà‡∏≥","‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏π‡∏á‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á","‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏ï‡πà‡∏≥","‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏™‡∏π‡∏á"], a:1},
    {q:"‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏´‡πâ‡∏≤‡∏°‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞?", c:["‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡∏°‡∏±‡∏ô","‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ï‡∏µ‡∏ö","‡∏≠‡πâ‡∏ß‡∏ô"], a:2},
    {q:"‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏π‡∏á‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≠‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏î?", c:["‡∏Ç‡∏¢‡∏≤‡∏¢","‡∏ï‡∏µ‡∏ö","‡πÅ‡∏Ç‡πá‡∏á","‡πÅ‡∏ï‡∏Å"], a:2},
  ]
};

let quiz = [];
let index = 0;
let score = 0;
let time = 10;
let timer;
let player = "";

function startGame() {
  player = document.getElementById("playerName").value;
  let level = document.getElementById("level").value;
  if (!player) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô");

  quiz = quizData[level];
  index = 0;
  score = 0;

  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("gameScreen").classList.remove("hidden");

  loadQuestion();
}

function loadQuestion() {
  clearInterval(timer);
  time = 10;
  document.getElementById("timer").innerText = "‡πÄ‡∏ß‡∏•‡∏≤: " + time;
  timer = setInterval(countDown, 1000);

  document.getElementById("score").innerText = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score;
  document.getElementById("question").innerText = quiz[index].q;

  let html = "";
  quiz[index].c.forEach((c,i)=>{
    html += `<button onclick="answer(${i})">${c}</button>`;
  });
  document.getElementById("choices").innerHTML = html;
}

function countDown() {
  time--;
  document.getElementById("timer").innerText = "‡πÄ‡∏ß‡∏•‡∏≤: " + time;
  if(time <= 0){
    nextQuestion();
  }
}

function answer(i) {
  if(i === quiz[index].a){
    score++;
    document.getElementById("soundCorrect").play();
  } else {
    document.getElementById("soundWrong").play();
  }
  nextQuestion();
}

function nextQuestion() {
  clearInterval(timer);
  index++;
  if(index >= quiz.length){
    endGame();
  } else {
    loadQuestion();
  }
}

function endGame() {
  document.getElementById("gameScreen").classList.add("hidden");
  document.getElementById("resultScreen").classList.remove("hidden");
  document.getElementById("finalScore").innerText =
    player + " ‡πÑ‡∏î‡πâ " + score + " ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô";

  let rank = JSON.parse(localStorage.getItem("rank") || "[]");
  rank.push({name: player, score: score});
  rank.sort((a,b)=>b.score-a.score);
  localStorage.setItem("rank", JSON.stringify(rank));
}

function showRanking() {
  document.getElementById("resultScreen").classList.add("hidden");
  document.getElementById("rankScreen").classList.remove("hidden");
  let rank = JSON.parse(localStorage.getItem("rank") || "[]");
  let html = "";
  rank.slice(0,10).forEach(r=>{
    html += `<li>${r.name} - ${r.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</li>`;
  });
  document.getElementById("rankList").innerHTML = html;
}
</script>

</body>
</html>
